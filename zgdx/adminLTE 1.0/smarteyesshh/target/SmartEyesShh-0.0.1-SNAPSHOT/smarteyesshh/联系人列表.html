<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>联系人列表</title>
		<link rel="stylesheet" href="js/bootstrap/css/bootstrap.css" />
		<link rel="stylesheet" href="css/base.css" />
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="css/style2.css" />
		<link rel="stylesheet" href="js/bootstrap-datetimepicker/bootstrap-datetimepicker.css" />
		<script type="text/javascript" src="js/jquery-2.1.0.js" ></script>
		<script type="text/javascript" src="js/bootstrap/js/bootstrap.js" ></script>
		<script type="text/javascript" src="js/bootstrap-datetimepicker/bootstrap-datetimepicker.js" ></script>
		<script type="text/javascript" src="js/bootstrap-datetimepicker/bootstrap-datetimepicker.zh-CN.js" ></script>
		<script type="text/javascript" src="js/echarts.js" ></script>
		<script>
			$(function(){
				$('input.datetimepicker').datetimepicker({
			    	format: 'yyyy-mm-dd hh:ii',
			    	language:'zh-CN'
			    });
			    
			    
			    //关闭窗口
			    $(".btn-close").on("click",function(){
			    	$('#echart-right').hide();
			    });
			    
			    //图标展示高度
			    var h= $(window).height();
			    $("#ect").height(h-60);
			    
			    $(".listl .list").height((h/2)-40);
			})
		</script>
		<style>
			.eboxlist{
				display: none;
			}
		</style>
	</head>
	<body>
		<div class="container-fluid smartEyes-container">
			<header class="row">
				<!--logo-->
				<div class="col-lg-2 col-md-2 col-xs-2 logo"><img src="img/1logo.png" alt=""></div>
				<div class="col-lg-5 col-md-5 col-xs-5">
					<ul class="nav nav-pills navList">
						<li role="presentation" class=""><a href="概览2.html"><i><img src="img/u-03.png"></i>概览</a></li>
						<li role="presentation" class="active"><a href="联系人列表.html"><i><img src="img/u-04c.png"></i>联系人列表</a></li>
						<li role="presentation" class=""><a href="区域轨迹.html"><i><img src="img/u-05.png"></i>区域与轨迹</a></li>
						<!--<li role="presentation" class=""><a href="帐号.html"><i></i>帐号</a></li>-->
					</ul>
				</div>
				<!--<div class="col-lg-4">
					<div class="form-group">
						<input type="text"class="form-control"  />
					</div>
					
				</div>-->
				<div class="col-lg-1 col-md-1 col-xs-1 fr">
					<a href="#"><img src="img/u03.png"></a>
				</div>
			</header>
		
			<div class="row searchBox listbox">
				<div class="col-lg-12 col-md-12 col-xs-12 namelist clearfix">
					<div class="pull-left namelistcc col-lg-4 col-md-4 col-xs-4">
						<span>当前重点人员：</span>
						<span>张＊强  SE3101001986  疑似涉毒人员    有效联系人总数：97</span>
					</div>
					<div class="pull-right text-right input-group col-lg-5">
						<!--<input placeholder="2017-10-01 16:49" type="text" class="pull-right datetimepicker" />
						<input placeholder="2017-10-02 16:49" type="text" class="pull-right datetimepicker" />-->
						<select class="pull-right select" style="margin-top: 5px; margin-right: 16px;">
							<option value="最近一天" selected=''>&nbsp;最近一天</option>
							<option value="最近一周">&nbsp;最近一周</option>
				            <option value="最近一月">&nbsp;最近一月</option>
				            <option value="最近一年">&nbsp;最近一年</option>
				            <option value="自定义">&nbsp;自定义</option>
				            <option value="全部">&nbsp;全部</option>
						</select>
					</div>
				</div>
				<div class="col-lg-3 col-md-3 col-xs-3 listl" style="border-bottom: none;box-shadow: 8px 8px 12px rgba(39, 41, 56, 1);">
					<div class="l-contacts">
						<div class="c-head clearfix">
							<span class="pull-left"><i></i>一度联系人</span>
							<span class="pull-right">28人</span>
						</div>
						<ul class="list">
							<li class="list-group-item mylist-group-item ">
								<span><i>1.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item ">
								<span><i>2.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item ">
								<span><i>4.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>5.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>6.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>7.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>8.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>9.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>10.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
						</ul>
					</div>
					<div class="l-contacts t-contacts">
						<div class="c-head clearfix">
							<span class="pull-left"><i></i>二度联系人</span>
							<span class="pull-right">48人</span>
						</div>
						<ul class="list">
							<li class="list-group-item mylist-group-item">
								<span><i>1.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>2.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>4.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>5.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>6.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>7.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>8.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>9.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
							<li class="list-group-item mylist-group-item">
								<span><i>10.</i>SE981239123</span>
								<span>重点人员</span>
								<span>关联指数：0.9</span>
							</li>
						</ul>
					</div>
				</div>
				<!--图表展示-->
				<div class="col-lg-9 col-md-9 col-xs-9 echartBox">
					<div class="echart03" id="ect"></div>
				</div>
			</div>
			<div class="echart-right" id="echart-right" style="display: none;">
				<!--点击弹出图表-->
				<div class="head clearfix">
					<h3 class="pull-left">联系人信息</h3>
					<i class="pull-right btn btn-close"><img src="img/u-16.png" width="13" height="13"></i>
				</div>
				<div class="csbox">
					<div class="cent clearfix">
						<div class="title pull-left">
							<img src="img/u-18.png" />
						</div>
						<div class="texTtitle pull-left">
							<p>SE981239123</p>
							<p>一度联系人   Rank1   0.9</p>
						</div>
						<!--<div class="pull-right">
							<a href="#"><img style="margin-top: 16px;" src="img/u-19.png"></a>
						</div>-->
					</div>
				</div>
				<div class="e-right">
					<div class="e-r-l">
						<h1>联系人概览<i class="glyphicon glyphicon-chevron-down"></i></h1>
						<div class="ebox" id="eBox" style="width: 233px; height: 134px; margin-left: 14px;">
							
						</div>
					</div>
					<div class="e-r-l">
						<div class="ectitle" style="margin-top: 30px;">
							<span class="active">通话时长</span>
							<i>|</i>
							<span>通话频次</span>
						</div>
						<div class="ebox eboxlist" id="eBox02" style="width: 230px; display: block; height: 200px; margin-left: 14px;">
							
						</div>
						<div class="ebox eboxlist" id="eBox03" style="width: 230px; height: 200px; margin-left: 14px;">
							
						</div>
						
					</div>
					<div class="btnBox hide">
							<a href="#">点击查看更多</a>
						</div>
				</div>
				
			</div>
		</div>
		<!--底部-->
		<footer style="background: none;"><p class="text-center">© 2017 SmartEyes | 猎犬上海网安版</p></footer>
	<script type="text/javascript" src="js/dataTool.js" ></script>
	<script>
		//图标展示高度
			    var h= $(window).height()-60;
			    $("#ect").height(h);
		//关系图
		var myChart = echarts.init(document.getElementById('ect'));
		var uploadedDataURL = "js/data-1461736688440-B1OeSA6x.gexf";

		myChart.showLoading();
		$.get(uploadedDataURL, function (xml) {
		    myChart.hideLoading();
		
		    var graph = echarts.dataTool.gexf.parse(xml);
		    var categories = [];
		    for (var i = 0; i < 9; i++) {
		        categories[i] = {
		            name: '类目' + i
		        };
		    }
		    graph.nodes.forEach(function (node) {
		        node.itemStyle = null;
		        node.value = node.symbolSize;
		        node.label = {
		            normal: {
		                show: node.symbolSize > 30
		            }
		        };
		        node.category = node.attributes.modularity_class;
		    });
		    option = {
		        /*title: {
		            text: 'Les Les Miserables',
		            subtext: 'Default layout',
		            top: 'bottom',
		            left: 'right'
		        },*/
		        tooltip: {},
		        legend: [{
		            // selectedMode: 'single',
		           /* data: categories.map(function (a) {
		                return a.name;
		            })*/
		        }],
		        animationDuration: 1500,
		        animationEasingUpdate: 'quinticInOut',
		        series : [
		            {
		                name: 'Les Miserables',
		                type: 'graph',
		                layout: 'none',
		                data: graph.nodes,
		                links: graph.links,
		                categories: categories,
		                roam: true,
		                label: {
		                    normal: {
		                        position: 'left',
		                        formatter: '{b}'
		                    }
		                },
		                lineStyle: {
		                    normal: {
		                        curveness: 0.3
		                    }
		                }
		            }
		        ]
		    };

    myChart.setOption(option);
    
    myChart.on("click",function(params){
    	//点击出现右侧弹框
    	$('#echart-right').show();
    })
}, 'xml');
//右侧隐藏图表
function echs(){
	var myChart = echarts.init(document.getElementById('eBox'));
	//雷达图
	option = {
	backgroundColor:'none',
    title: {
        text: ''
    },
    tooltip: {	
        trigger: 'item',
        formatter: "{a} <br/>{b}%"
    },
    
    radar: [
        {
            indicator: [{
              text: '111',
              
          }, {
              text: '222',
             
          }, {
              text: '333',
              
          }, {
              text: '444',
              
          }, {
              text: '555',
             
          }],
            center: ['52%', '54%'],
            radius: 60,
            startAngle: 90,
            splitNumber: 4,
            shape: 'circle',
            name: {
                formatter:'{value}',
                textStyle: {
                    color:'#72ACD1'
                }
            },
            splitArea: {
                areaStyle: {
                    color: ['rgba(114, 172, 209, 0.2)',
                    'rgba(114, 172, 209, 0.4)', 'rgba(114, 172, 209, 0.6)',
                    'rgba(114, 172, 209, 0.8)', 'rgba(114, 172, 209, 1)'],
                    shadowColor: 'rgba(0, 0, 0, 0.3)',
                    shadowBlur: 10
                }
            },
            axisLine: {
                lineStyle: {
                    color: 'rgba(255, 255, 255, 0.5)'
                }
            },
            splitLine: {
                lineStyle: {
                    color: 'rgba(255, 255, 255, 0.5)'
                }
            }
        },
       
    ],
    series: [
        {
            name: '雷达图',
            type: 'radar',
            itemStyle: {
                emphasis: {
                    // color: 各异,
                    lineStyle: {
                        width: 4
                    }
                }
            },
            data: [
                {
                   value: [60, 33, 15, 50, 100],
                    areaStyle: {
                        normal: {
                            color: 'rgba(255, 255, 255, 0.5)'
                        }
                    }
                }
            ]
        }
    ]
}
	
	
	myChart.setOption(option);
	
	function mychar02(){
		var myChart2 = echarts.init(document.getElementById('eBox02'));
	//饼状图
	option = {
		backgroundColor:'none',
    tooltip: {	
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        data: ['']
    },
    series: [{
        name: '饼图',
        type: 'pie',
        radius: ['60%', '70%'],
        label: {
            normal: {
                position: 'center'
            }
        },
        data: [{
            value: 20,
            name: '占位',
            label: {
                normal: {
                    formatter: '总时长',
                    textStyle: {
                        color: '#555555',
                        fontSize: 16
                    }
                }
            },
            tooltip: {
                show: false
            },
            itemStyle: {
                normal: {
                    color: '#2f4555'
                },
                emphasis: {
                    color: '#2f4555'
                }
            },
            hoverAnimation: false
        },{
            value: 80,
            name: '占有率',
            label: {
                normal: {
                    formatter: '{d}min',
                    textStyle: {
                        fontSize: 16,
                        color: '#555555'
                    }
                }
            }
        }]
    }]
};
	
	myChart2.setOption(option);
		
	}
	mychar02();
	
	function mychar03(){
		var myChart3 = echarts.init(document.getElementById('eBox03'));
	//饼状图
	option = {
		backgroundColor:'none',
    tooltip: {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        data: ['']
    },
    series: [{
        name: '饼图',
        type: 'pie',
        radius: ['60%', '70%'],
        label: {
            normal: {
                position: 'center'
            }
        },
        data: [{
            value: 20,
            name: '占位',
            label: {
                normal: {
                    formatter: '总次数',
                    textStyle: {
                        color: '#555555',
                        fontSize: 16
                    }
                }
            },
            tooltip: {
                show: false
            },
            itemStyle: {
                normal: {
                    color: '#2f4555'
                },
                emphasis: {
                    color: '#2f4555'
                }
            },
            hoverAnimation: false
        },{
            value: 80,
            name: '占有率',
            label: {
                normal: {
                    formatter: '{d}次',
                    textStyle: {
                        fontSize: 16,
                        color: '#555555'
                    }
                }
            }
        }]
    }]
};
	
	myChart3.setOption(option);
};
mychar03();


//切换饼图
$(".ectitle span").click(function(){
	var index=$(this).index();
	if(index==0){
		$(this).addClass("active").siblings("span").removeClass("active");
		$("#eBox02").show();
		$("#eBox03").hide();
		mychar02();
	}else if(index==2){
		$(this).addClass("active").siblings("span").removeClass("active");
		$("#eBox03").show();
		$("#eBox02").hide();
		mychar03();
	}
	
})




}
echs();






	</script>
	</body>
</html>
